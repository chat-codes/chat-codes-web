<div #messageDisplay class="message-display">
    <div class="no-messages" *ngIf='commLayer.messageGroups.isEmpty()'>
        (no messages)
    </div>
    <ul class='messageGroups'>
        <li class='messageGroup' *ngFor="let messageGroup of commLayer.messageGroups.getMessageGroups()" [ngClass]='"user-"+messageGroup.getSender().colorIndex'>
            <ul class='messages list-group'>
                <li class='header list-group-item'>
                    <span class="sender">{{messageGroup.getSender().name}}</span>&nbsp;<span class="time">({{messageGroup.getTimestamp(0) | amTimeAgo }})</span>:
                </li>
                <li *ngFor="let message of messageGroup.getMessages()" class='message list-group-item'>
                    <chat-message
                    (selectFileEmitter)='selectFileEmitterEvent($event)'
                    (scrollToLineEmitter)='scrollToLineEmitterEvent($event)'
                    [message]='message'
                    [timestamp]='message.timestamp'
                    [editorStateTracker]='commLayer.getEditorStateTracker()'></chat-message>
                </li>
            </ul>
        </li>
    </ul>
    <div class='typing'>
        <div *ngFor='let user of commLayer.userList.activeUsers'>
            <div *ngIf='user.typingStatus=="ACTIVE_TYPING" && !user.isMe'>
                {{user.name}} is typing...
            </div>
        </div>
    </div>
</div>
